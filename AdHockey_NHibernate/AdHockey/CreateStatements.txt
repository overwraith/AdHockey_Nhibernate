DROP TABLE BULK_ITEMS_INT32;
DROP TABLE BULK_ITEMS_INT64;
DROP TABLE BULK_ITEMS_FLOAT;
DROP TABLE BULK_ITEMS_DECIMAL;
DROP TABLE BULK_ITEMS_INT16;
DROP TABLE BULK_ITEMS_CHAR;
DROP TABLE BULK_ITEMS_DATETIME;
DROP TABLE BULK_TEMPLATE;

/*BULK_TEMPLATE*/
CREATE TABLE BULK_TEMPLATE(
    TEMPLATE_ID NUMBER(10, 0) PRIMARY KEY, 
    USER_ID NUMBER(10, 0), 
    CLR_TYPE VARCHAR2(50), 
    CLASS_NAME VARCHAR2(50), 
    ASSEMBLY_NAME VARCHAR2(50), 
    "ORDER" NUMBER(10, 0), 
    REPORT_ID NUMBER(10, 0)
);

DROP SEQUENCE BULK_TEMPLATE_SEQ;

CREATE SEQUENCE BULK_TEMPLATE_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER BULK_TEMPLATE_TRG 
BEFORE INSERT ON BULK_TEMPLATE 
FOR EACH ROW
BEGIN
	:NEW.TEMPLATE_ID := BULK_TEMPLATE_SEQ.NEXTVAL;
END;


/*BULK_ITEMS_INT32*/
CREATE TABLE BULK_ITEMS_INT32(
    BULK_ITEM_ID NUMBER(10, 0) PRIMARY KEY,
    USER_ID NUMBER(10, 0) REFERENCES CBLOCK."USER"(USER_ID), 
	SESSION_ID VARCHAR2(50), 
    TEMPLATE_ID NUMBER(10, 0) REFERENCES BULK_TEMPLATE(TEMPLATE_ID), 
    BULK_VALUE NUMBER(10, 0)
);

DROP SEQUENCE BULK_ITEMS_INT32_SEQ;

CREATE SEQUENCE BULK_ITEMS_INT32_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER BULK_ITEMS_INT32_TRG 
BEFORE INSERT ON BULK_ITEMS_INT32 
FOR EACH ROW
BEGIN
	:NEW.BULK_ITEM_ID := BULK_ITEMS_INT32_SEQ.NEXTVAL;
END;

/*BULK_ITEMS_INT64*/
CREATE TABLE BULK_ITEMS_INT64(
    BULK_ITEM_ID NUMBER(10, 0) PRIMARY KEY, 
    USER_ID NUMBER(10, 0) REFERENCES CBLOCK."USER"(USER_ID), 
	SESSION_ID VARCHAR2(50), 
    TEMPLATE_ID NUMBER(10, 0) REFERENCES BULK_TEMPLATE(TEMPLATE_ID), 
    BULK_VALUE NUMBER(19, 0)
);

DROP SEQUENCE BULK_ITEMS_INT64_SEQ;

CREATE SEQUENCE BULK_ITEMS_INT64_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER BULK_ITEMS_INT64_TRG 
BEFORE INSERT ON BULK_ITEMS_INT64
FOR EACH ROW
BEGIN
	:NEW.BULK_ITEM_ID := BULK_ITEMS_INT64_SEQ.NEXTVAL;
END;

/*BULK_ITEMS_INT16*/
CREATE TABLE BULK_ITEMS_INT16(
    BULK_ITEM_ID NUMBER(10, 0) PRIMARY KEY, 
    USER_ID NUMBER(10, 0) REFERENCES CBLOCK."USER"(USER_ID), 
	SESSION_ID VARCHAR2(50), 
    TEMPLATE_ID NUMBER(10, 0) REFERENCES BULK_TEMPLATE(TEMPLATE_ID), 
    BULK_VALUE NUMBER(5, 0)
);

DROP SEQUENCE BULK_ITEMS_INT16_SEQ;

CREATE SEQUENCE BULK_ITEMS_INT16_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER BULK_ITEMS_INT16_TRG 
BEFORE INSERT ON BULK_ITEMS_INT16
FOR EACH ROW
BEGIN
	:NEW.BULK_ITEM_ID := BULK_ITEMS_INT16_SEQ.NEXTVAL;
END;

/*BULK_ITEMS_CHAR*/
CREATE TABLE BULK_ITEMS_CHAR(
    BULK_ITEM_ID NUMBER(10, 0) PRIMARY KEY, 
    USER_ID NUMBER(10, 0) REFERENCES CBLOCK."USER"(USER_ID), 
	SESSION_ID VARCHAR2(50), 
    TEMPLATE_ID NUMBER(10, 0) REFERENCES BULK_TEMPLATE(TEMPLATE_ID), 
    BULK_VALUE CHAR
);

DROP SEQUENCE BULK_ITEMS_CHAR_SEQ;

CREATE SEQUENCE BULK_ITEMS_CHAR_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER BULK_ITEMS_CHAR_TRG 
BEFORE INSERT ON BULK_ITEMS_CHAR
FOR EACH ROW
BEGIN
	:NEW.BULK_ITEM_ID := BULK_ITEMS_CHAR_SEQ.NEXTVAL;
END;

/*BULK_ITEMS_DECIMAL*/
CREATE TABLE BULK_ITEMS_DECIMAL(
    BULK_ITEM_ID NUMBER(10, 0) PRIMARY KEY, 
    USER_ID NUMBER(10, 0) REFERENCES CBLOCK."USER"(USER_ID), 
	SESSION_ID VARCHAR2(50), 
    TEMPLATE_ID NUMBER(10, 0) REFERENCES BULK_TEMPLATE(TEMPLATE_ID), 
    BULK_VALUE FLOAT(29)
);

DROP SEQUENCE BULK_ITEMS_DECIMAL_SEQ;

CREATE SEQUENCE BULK_ITEMS_DECIMAL_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER BULK_ITEMS_DECIMAL_TRG 
BEFORE INSERT ON BULK_ITEMS_DECIMAL
FOR EACH ROW
BEGIN
	:NEW.BULK_ITEM_ID := BULK_ITEMS_DECIMAL_SEQ.NEXTVAL;
END;

/*BULK_ITEMS_FLOAT*/
CREATE TABLE BULK_ITEMS_FLOAT(
    BULK_ITEM_ID NUMBER(10, 0) PRIMARY KEY, 
    USER_ID NUMBER(10, 0) REFERENCES CBLOCK."USER"(USER_ID), 
	SESSION_ID VARCHAR2(50), 
    TEMPLATE_ID NUMBER(10, 0) REFERENCES BULK_TEMPLATE(TEMPLATE_ID), 
    BULK_VALUE FLOAT(7)
);

DROP SEQUENCE BULK_ITEMS_FLOAT_SEQ;

CREATE SEQUENCE BULK_ITEMS_FLOAT_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER BULK_ITEMS_FLOAT_TRG 
BEFORE INSERT ON BULK_ITEMS_FLOAT
FOR EACH ROW
BEGIN
	:NEW.BULK_ITEM_ID := BULK_ITEMS_FLOAT_SEQ.NEXTVAL;
END;

/*BULK_ITEMS_DATETIME*/
CREATE TABLE BULK_ITEMS_DATETIME(
    BULK_ITEM_ID NUMBER(10, 0) PRIMARY KEY, 
    USER_ID NUMBER(10, 0) REFERENCES CBLOCK."USER"(USER_ID), 
	SESSION_ID VARCHAR2(50), 
    TEMPLATE_ID NUMBER(10, 0) REFERENCES BULK_TEMPLATE(TEMPLATE_ID), 
    BULK_VALUE DATE 
);

DROP SEQUENCE BULK_ITEMS_DATETIME_SEQ;

CREATE SEQUENCE BULK_ITEMS_DATETIME_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER BULK_ITEMS_DATETIME_TRG 
BEFORE INSERT ON BULK_ITEMS_DATETIME
FOR EACH ROW
BEGIN
	:NEW.BULK_ITEM_ID := BULK_ITEMS_DATETIME_SEQ.NEXTVAL;
END;

/*BULK_ITEMS_STRING*/
CREATE TABLE BULK_ITEMS_STRING(
    BULK_ITEM_ID NUMBER(10, 0) PRIMARY KEY,
    USER_ID NUMBER(10, 0) REFERENCES CBLOCK."USER"(USER_ID), 
	SESSION_ID VARCHAR2(50), 
    TEMPLATE_ID NUMBER(10, 0) REFERENCES BULK_TEMPLATE(TEMPLATE_ID), 
    BULK_VALUE VARCHAR(64)
);

DROP SEQUENCE BULK_ITEMS_STRING_SEQ;

CREATE SEQUENCE BULK_ITEMS_STRING_SEQ START WITH 1;

CREATE OR REPLACE TRIGGER BULK_ITEMS_STRING_TRG 
BEFORE INSERT ON BULK_ITEMS_STRING 
FOR EACH ROW
BEGIN
	:NEW.BULK_ITEM_ID := BULK_ITEMS_STRING_SEQ.NEXTVAL;
END;

/

CREATE INDEX IDX_BULK_ITEMS_CHAR ON CBLOCK.BULK_ITEMS_CHAR (BULK_VALUE);
CREATE INDEX IDX_BULK_ITEMS_DATETIME ON CBLOCK.BULK_ITEMS_DATETIME (BULK_VALUE);
CREATE INDEX IDX_BULK_ITEMS_DECIMAL ON CBLOCK.BULK_ITEMS_DECIMAL (BULK_VALUE);
CREATE INDEX IDX_BULK_ITEMS_FLOAT ON CBLOCK.BULK_ITEMS_FLOAT (BULK_VALUE);
CREATE INDEX IDX_BULK_ITEMS_INT16 ON CBLOCK.BULK_ITEMS_INT16 (BULK_VALUE);
CREATE INDEX IDX_BULK_ITEMS_INT32 ON CBLOCK.BULK_ITEMS_INT32 (BULK_VALUE);
CREATE INDEX IDX_BULK_ITEMS_INT64 ON CBLOCK.BULK_ITEMS_INT64 (BULK_VALUE);
CREATE INDEX IDX_BULK_ITEMS_STRING ON CBLOCK.BULK_ITEMS_STRING (BULK_VALUE);